{"version":3,"sources":["components/Homepage/Sidebar.js","components/Homepage/FilmCard.js","components/Homepage/Pagination.js","components/Homepage/Catalog.js","components/Navbar.js","components/Footer.js","components/Homepage/Home.js","components/Film/SearchedFilm.js","components/Login/Login.js","components/Registration/Registration.js","components/User/UserSidebar.js","components/User/UserCatalog.js","components/User/UserMenu.js","components/UserSearch/SearchUserSidebar.js","components/UserSearch/SearchUserCatalog.js","components/UserSearch/SearchUserMenu.js","components/404Page/Page404.js","App.js","index.js"],"names":["Sidebar","_ref","genres","currentGenre","setCurrentGenre","setIsRendered","_jsxs","children","_jsx","id","filter","genre","name","map","index","onClick","e","target","innerText","Card","film","className","href","concat","Title","src","Poster","alt","Plot","Genre","imdbRating","toFixed","imdbVotes","Pagination","pagesNumber","onPageClick","currentPage","ListPages","content","push","Catalog","isRendered","changeGenreButton","useRef","articleFilms","articleGenres","titleGenre","films","paginationBar","getActualPageFilms","fetch","current","headers","Accept","then","response","json","_ref2","listOfFilms","useEffect","res","_ref3","pagesLength","Math","ceil","isNaN","dataset","page","changeMode","style","display","innerHTML","SectionFilms","React","Fragment","ref","imdbID","Navbar","token","setToken","userButton","logoutButton","history","useHistory","input","setInput","useState","results","setResults","user","setUser","suggestions","movieSearch","setMovieSearch","showResults","setShowResults","changeSearch","chosenSearch","tokenNotValid","checkAccess","Authorization","method","data","username","auth","tokenIsValid","catch","handleOutsideClick","event","contains","window","addEventListener","removeEventListener","timeoutSearch","setTimeout","Response","Search","clearTimeout","onSubmit","preventDefault","spellCheck","autoComplete","type","value","onChange","placeholder","length","undefined","opacity","deleteToken","document","cookie","Footer","Home","sort","a","b","localeCompare","SearchedFilm","setData","title","useParams","sectionFilm","followingLikes","setFollowingLikes","starValue","setStarValue","url","encodeURI","found","body","JSON","stringify","_ref5","voted","fetchFilmLike","likes","Runtime","Released","Director","Actors","Awards","_ref6","Rating","newValue","onLikeClick","rating","_ref4","vote","precision","emptyIcon","StarIcon","sx","stroke","strokeWidth","color","fontSize","Login","message","setMessage","inputUsername","setInputUsername","inputPassword","setInputPassword","onFormSubmit","password","role","htmlFor","Registration","setUsername","mail","setMail","setPassoword","isFormValid","setIsFormValid","usernameInput","passwordInput","mailInput","validPassword","passwordHelper","validMail","mailHelper","validUsername","usernameHelper","submitButton","regex","match","classList","remove","add","checkFormValid","disabled","backgroundColor","onGenreClick","UserCatalog","includes","UserFilms","clicked","allGenres","userGenres","userFilms","onButtonFilterClick","UserSidebar","toUpperCase","ChartJS","register","ArcElement","Tooltip","Legend","CategoryScale","registerables","data_doughnut","datasets","label","borderColor","borderWidth","data_line","options","scales","x","y","ticks","SearchUserFilms","favoriteGenre","userId","timeline","followed","setFollowed","buttonText","setButtonText","buttonColor","setButtonColor","followers","setFollowers","followings","setFollowings","viewFollowings","setViewFollowings","viewFollowers","setViewFollowers","chartVisible","setChartVisible","getTimeline","timestampCounts","timestamp","split","mode","arguments","currentDate","Date","filteredValues","i","currentDateCopy","setDate","getDate","toISOString","key","Object","entries","hasOwnProperty","setMonth","getMonth","result","filterDate","getFavoriteGenre","genreCounts","flatMap","movie","trim","reduce","acc","labels","keys","numberOfGenres","colors","diff_1","diff_2","diff_3","parseInt","console","log","cur","handleConnections","checkFollow","class","_ref7","handleFollow","status","Doughnut","Line","Page404","App","cname","ca","decodeURIComponent","c","charAt","substring","indexOf","getCookie","Router","Switch","Route","exact","path","SearchUserMenu","UserMenu","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.23f3f8b4.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Sidebar = ({ genres, currentGenre, setCurrentGenre, setIsRendered }) => {\r\n  return (\r\n    <aside>\r\n      <div id=\"genresLegend\">\r\n        <h1>GENRES</h1>\r\n      </div>\r\n      <ul>\r\n        {genres\r\n          .filter((genre) => genre.name !== currentGenre)\r\n          .map((genre, index) => {\r\n            return (\r\n              <li\r\n                key={index}\r\n                onClick={(e) => {\r\n                  setCurrentGenre(e.target.innerText)\r\n                  setIsRendered(false)\r\n                }}>\r\n                <span>\r\n                  <span>\r\n                    <span>{genre.name}</span>\r\n                  </span>\r\n                </span>\r\n              </li>\r\n            )\r\n          })}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\"\r\n\r\nconst Card = ({ film }) => {\r\n  return (\r\n    <li className=\"card\">\r\n      <a href={`/film/${film.Title}`}>\r\n        <img className=\"card-img-top\" src={film.Poster} alt=\"Cardcap\" />\r\n      </a>\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{film.Title}</h5>\r\n        <hr />\r\n        <p className=\"card-text\" id=\"plot\">\r\n          {film.Plot}\r\n        </p>\r\n        <h6 className=\"card-label\">GENRE</h6>\r\n        <p className=\"card-text\" id=\"filmGenre\">\r\n          {film.Genre}\r\n        </p>\r\n        <h6 className=\"card-label\">IMDB RATING</h6>\r\n        <p className=\"card-text\">\r\n          {(film.imdbRating/2).toFixed(1)}\r\n          <i className=\"far fa-star\"></i> | {film.imdbVotes}\r\n          <i className=\"fas fa-vote-yea\"></i>\r\n        </p>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import React, { useState } from \"react\"\r\nimport \"./pagination.css\"\r\n\r\nconst Pagination = ({ pagesNumber, onPageClick, currentPage }) => {\r\n  const ListPages = () => {\r\n    const content = []\r\n    for (let index = 0; index < pagesNumber; index++) {\r\n      content.push(\r\n        <li\r\n          className={+currentPage === index ? \"active page-item\" : \"page-item\"}\r\n          data-page={index}\r\n          key={index}\r\n          onClick={onPageClick}>\r\n          {index + 1}\r\n        </li>\r\n      )\r\n    }\r\n\r\n    return content\r\n  }\r\n\r\n  return (\r\n    <ul className=\"pagination justify-content-center\">\r\n      {+currentPage > 0 ? (\r\n        <li\r\n          data-page={+currentPage - 1}\r\n          onClick={onPageClick}\r\n          className=\"page-item\">\r\n          <i className=\"fas fa-angle-double-left\"></i>\r\n        </li>\r\n      ) : null}\r\n      <ListPages />\r\n      {+currentPage + 1 < pagesNumber ? (\r\n        <li\r\n          data-page={+currentPage + 1}\r\n          onClick={onPageClick}\r\n          className=\"page-item\">\r\n          <i className=\"fas fa-angle-double-right\"></i>\r\n        </li>\r\n      ) : null}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React, { useEffect, useRef } from \"react\"\r\nimport Card from \"./FilmCard.js\"\r\nimport Pagination from \"./Pagination.js\"\r\n\r\nconst Catalog = ({\r\n  currentGenre,\r\n  genres,\r\n  setCurrentGenre,\r\n  isRendered,\r\n  setIsRendered\r\n}) => {\r\n  const changeGenreButton = useRef()\r\n  const articleFilms = useRef()\r\n  const articleGenres = useRef()\r\n  const titleGenre = useRef()\r\n  const films = useRef([])\r\n  const currentPage = useRef(0)\r\n  const pagesNumber = useRef()\r\n  const paginationBar = useRef()\r\n\r\n  const getActualPageFilms = () => {\r\n    fetch(`/films?genre=${currentGenre}&page=${currentPage.current}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\"\r\n      }\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ listOfFilms }) => {\r\n        films.current = listOfFilms\r\n        setIsRendered(true)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    currentPage.current = 0\r\n    getActualPageFilms()\r\n  }, [currentGenre])\r\n\r\n  useEffect(() => {\r\n    fetch(`/pagination?genre=${currentGenre}`)\r\n      .then((res) => res.json())\r\n      .then(\r\n        ({ pagesLength }) => (pagesNumber.current = Math.ceil(pagesLength / 10))\r\n      )\r\n  })\r\n\r\n  const onPageClick = (e) => {\r\n    setIsRendered(false)\r\n    currentPage.current = isNaN(e.target.dataset.page)\r\n      ? 0\r\n      : e.target.dataset.page\r\n    getActualPageFilms()\r\n  }\r\n\r\n  const changeMode = () => {\r\n    if (articleFilms.current.style.display !== \"none\") {\r\n      articleFilms.current.style.display = \"none\"\r\n      paginationBar.current.style.display = \"none\"\r\n      articleGenres.current.style.display = \"grid\"\r\n      titleGenre.current.innerHTML = \"Choose the genre\"\r\n    } else {\r\n      articleFilms.current.style.display = \"grid\"\r\n      paginationBar.current.style.display = \"block\"\r\n      articleGenres.current.style.display = \"none\"\r\n      titleGenre.current.innerHTML = currentGenre\r\n    }\r\n  }\r\n\r\n  const SectionFilms = () => {\r\n    if (isRendered) {\r\n      return (\r\n        <React.Fragment>\r\n          <article id=\"articleFilms\" ref={articleFilms}>\r\n            {films.current.map((film) => {\r\n              return <Card film={film} key={film.imdbID} />\r\n            })}\r\n          </article>\r\n          <nav ref={paginationBar}>\r\n            {pagesNumber.current > 1 ? (\r\n              <Pagination\r\n                onPageClick={onPageClick}\r\n                pagesNumber={pagesNumber.current}\r\n                currentPage={currentPage.current}\r\n              />\r\n            ) : null}\r\n          </nav>\r\n        </React.Fragment>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"module-border-wrap\">\r\n        <div id=\"slogan\">\r\n          <img src=\"/img/logo.jpg\" alt=\"logo\" />\r\n          <h2>Search. Vote. Save.</h2>\r\n          <h1>ANY MOVIE IN YOUR MIND</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"genre\" id={currentGenre}>\r\n        <h1 id=\"currentGenre\" ref={titleGenre}>\r\n          {currentGenre}\r\n        </h1>\r\n        <i\r\n          id=\"changeGenre\"\r\n          ref={changeGenreButton}\r\n          onClick={changeMode}\r\n          className=\"fas fa-exchange-alt\"></i>\r\n      </div>\r\n\r\n      <SectionFilms />\r\n\r\n      <article id=\"articleGenres\" ref={articleGenres}>\r\n        <ul>\r\n          {genres\r\n            .filter((genre) => genre.name !== currentGenre)\r\n            .map((genre) => {\r\n              return (\r\n                <li\r\n                  key={genre.id}\r\n                  onClick={(e) => {\r\n                    setCurrentGenre(e.target.innerText)\r\n                    setIsRendered(false)\r\n                    changeMode()\r\n                  }}>\r\n                  <span>\r\n                    <span>\r\n                      <span>{genre.name}</span>\r\n                    </span>\r\n                  </span>\r\n                </li>\r\n              )\r\n            })}\r\n        </ul>\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Catalog\r\n","import fetch from \"node-fetch\"\r\nimport React, { useState, useEffect, useRef } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Navbar = ({ token, setToken}) => {\r\n  const userButton = useRef()\r\n  const logoutButton = useRef()\r\n  const history = useHistory()\r\n  const [input, setInput] = useState(\"\")\r\n  const [results, setResults] = useState([])\r\n  const [user, setUser] = useState('')\r\n  const suggestions = useRef()\r\n  const [movieSearch, setMovieSearch] = useState(true)\r\n  const [showResults, setShowResults] = useState(false)\r\n\r\n  const changeSearch = (chosenSearch) => {\r\n    if(movieSearch!==chosenSearch){\r\n      setInput('')\r\n      setResults([])\r\n      setMovieSearch(chosenSearch);\r\n    }\r\n  };\r\n\r\n  const tokenIsValid = (username) => {\r\n    setUser(username)\r\n    userButton.current.href = `/profile`\r\n    userButton.current.innerHTML = `<i class=\"fa fa-user\"></i> ${username}`\r\n    userButton.current.style[\"border-radius\"] = \"10px 0 0 10px\"\r\n    logoutButton.current.style.display = \"inline\"\r\n  }\r\n\r\n  const tokenNotValid = () => {\r\n    userButton.current.href = \"/login\"\r\n    userButton.current.innerHTML = \"<i class='fa fa-user'></i> GET STARTED\"\r\n    userButton.current.style[\"border-radius\"] = \"10px\"\r\n    logoutButton.current.style.display = \"none\"\r\n  }\r\n\r\n  const checkAccess = () => {\r\n    if (token !== \"\") {\r\n      fetch(\"/token\", {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          Authorization: \"Bearer \" + token\r\n        },\r\n        method: \"POST\"\r\n      })\r\n        .then((response) => {\r\n          return response.json()\r\n        })\r\n        .then((data) => {\r\n          const { username, auth } = data\r\n          auth ? tokenIsValid(username) : tokenNotValid()\r\n        })\r\n        .catch(() => {\r\n          tokenNotValid()\r\n        })\r\n    } else {\r\n      tokenNotValid()\r\n    }\r\n  }\r\n\r\n  const deleteToken = () => {\r\n    document.cookie =\r\n      \"jwt=deleted; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT\"\r\n    setToken(\"\")\r\n    history.push(\"/\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (event) => {\r\n      if (suggestions.current && !suggestions.current.contains(event.target)) {\r\n        setShowResults(false)\r\n      } else {\r\n        setShowResults(true)\r\n      }\r\n    };\r\n\r\n    window.addEventListener('click', handleOutsideClick);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOutsideClick);\r\n    };\r\n  }, []); // Empty dependency array ensures this effect runs only once\r\n\r\n\r\n  useEffect(() => {\r\n    checkAccess()\r\n  }, [token])\r\n\r\n  useEffect(() => {\r\n    const timeoutSearch = setTimeout(() => {\r\n      if (input) {\r\n        if (movieSearch){\r\n          fetch(`/search-movie?s=${input}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.Response) {\r\n              setShowResults(true)\r\n              setResults(data.Search)\r\n            } else {\r\n              setResults([])\r\n            }\r\n          })\r\n          .catch(() => {\r\n            setResults([])\r\n          })\r\n        } else {\r\n          fetch(`/search-user?s=${input}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            setShowResults(true)\r\n            setResults(data)\r\n          })\r\n          .catch(() => {\r\n            setResults([])\r\n          })\r\n        }\r\n        \r\n      }\r\n    }, 300)\r\n    return () => {\r\n      clearTimeout(timeoutSearch)\r\n    }\r\n  }, [input])\r\n\r\n  return (\r\n    <header>\r\n      <a href=\"/\">\r\n        <img src=\"/img/dkLogo.jpg\" alt=\"\" className=\"logo\" />\r\n      </a>\r\n\r\n      <form\r\n        id=\"searchFilm\"\r\n        className = {movieSearch ? 'searchFilm' : 'searchUsers'}\r\n        ref={suggestions}\r\n        onSubmit={(e) => {\r\n          e.preventDefault()\r\n        }}>\r\n\r\n        <input\r\n          className=\"input-field\"\r\n          spellCheck=\"false\"\r\n          autoComplete=\"off\"\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          id=\"inputFilm\"\r\n          name=\"title\"\r\n          placeholder= {movieSearch ? \"Search for a movie...\" : 'Search for a user...'}\r\n        />\r\n        <div id=\"suggestions\">\r\n          {(input.length === 0 || results === undefined || showResults === false) && (<span></span>)}\r\n          {(input.length>0 && results !== undefined && showResults === true && movieSearch === true) && (\r\n            <ul>\r\n                {results.map((film, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <a href={`/film/${film.Title}`}>\r\n                        <p>{film.Title}</p> <i className=\"fa-solid fa-arrow-right\"></i>\r\n                      </a>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n          )}\r\n          {(input.length>0 && results !== undefined && showResults === true && movieSearch === false) && (\r\n            <ul>\r\n              {results.map(({username, id}, index) => {\r\n                if (user !== username){\r\n                  return (\r\n                    <li key={index}>\r\n                      <a href={`/user-search/${id}`}>\r\n                        <p>{username}</p> <i className=\"fa-solid fa-arrow-right\"></i>\r\n                      </a>\r\n                    </li>\r\n                  )\r\n                }\r\n              })}\r\n            </ul>\r\n          )}\r\n        </div>\r\n        <div id='changeSearch'>\r\n          <i className=\"fa-solid fa-film\" style={{ opacity: movieSearch ? 1 : 0.3 }} id='movieIcon' onClick={()=>changeSearch(true)}></i>\r\n          <i className=\"fa-solid fa-users\" style={{ opacity: movieSearch ? 0.3 : 1 }} id='usersIcon' onClick={()=>changeSearch(false)}></i>\r\n        </div>\r\n        \r\n      </form>\r\n\r\n      <div id=\"userInteraction\">\r\n        <a href=\"/login\" id=\"button-user\" ref={userButton}>\r\n          <i className=\"fa-solid fa-user\"></i> GET STARTED\r\n        </a>\r\n        <button id=\"button-logout\" ref={logoutButton} onClick={deleteToken}>\r\n          <i className=\"fa-solid fa-sign-out-alt\"></i> LOGOUT\r\n        </button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","const Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer font-small special-color-dark pt-4\">\r\n      <div className=\"container\">\r\n        <ul className=\"list-unstyled list-inline text-center\">\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.facebook.com/profile.php?id=100010848486989\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fa-brands fa-facebook-f\"></i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.instagram.com/matteo.mrl\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fa-brands fa-instagram\"></i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.linkedin.com/in/matteo-morellini-306a331a8/\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fa-brands fa-linkedin\"></i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://github.com/MatteoMorellini\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fa-brands fa-github\"></i>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"footer-copyright text-center py-3\">\r\n        Created with passion by Matteo Morellini.\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport Sidebar from \"./Sidebar.js\"\r\nimport Catalog from \"./Catalog.js\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport \"./index.css\"\r\n\r\nconst Home = ({ token, setToken}) => {\r\n  const [currentGenre, setCurrentGenre] = useState(\"Action\")\r\n  const genres = useRef([])\r\n  const [isRendered, setIsRendered] = useState()\r\n\r\n  useEffect(() => {\r\n    fetch(\"/genres\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        genres.current = data\r\n        genres.current.sort((a,b) => {return a.name.localeCompare(b.name)})\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar token={token} setToken={setToken}/>\r\n      <main className=\"main-homepage\">\r\n        <Sidebar\r\n          genres={genres.current}\r\n          currentGenre={currentGenre} // viene eliminato dalla lista il genere corrente\r\n          setCurrentGenre={setCurrentGenre} // nel momento in cui un genere viene cliccato, diventa il corrente\r\n          setIsRendered={setIsRendered} // con un nuovo genere è necessario un nuovo caricamento\r\n        />\r\n        <Catalog\r\n          currentGenre={currentGenre} // per il titolo della section\r\n          setCurrentGenre={setCurrentGenre} // con le mq il menù dei generi passa nel Catalog\r\n          genres={genres.current}\r\n          setIsRendered={setIsRendered} // con un nuovo genere è necessario un nuovo caricamento\r\n          isRendered={isRendered} // effetto loading\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import fetch from \"node-fetch\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport \"./searchFilm.css\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport Box from '@mui/material/Box';\r\nimport Rating from '@mui/material/Rating';\r\nimport Typography from '@mui/material/Typography';\r\nimport StarIcon from '@mui/icons-material/Star';\r\n\r\nconst SearchedFilm = ({ token, setToken}) => {\r\n  const [data, setData] = useState()\r\n  const [isRendered, setIsRendered] = useState(false)\r\n  const { title } = useParams()\r\n  const sectionFilm = useRef()\r\n  const [followingLikes, setFollowingLikes] = useState(false)\r\n  const [starValue, setStarValue] = useState(0)\r\n\r\n  const fetchFilmLike = () => {\r\n    const url = encodeURI(`/film-like/${title}`)\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      }\r\n    }).then((res) => res.json())\r\n    .then(({ auth, likes }) => {\r\n      if (auth && likes) {\r\n        setFollowingLikes(likes)\r\n      } else {\r\n        setFollowingLikes([])\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const url = encodeURI(`/film-data/${title}`)\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      }\r\n    })\r\n      .then((res) => res.json())\r\n      .then(({ data, found }) => {\r\n        if (found) {\r\n          setData(data)\r\n        }\r\n        setIsRendered(true)\r\n      })\r\n  }, [])\r\n\r\n  const onLikeClick = (rating) => {\r\n    fetch(\"/vote\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      },\r\n      body: JSON.stringify({ title, rating }),\r\n      method: \"PUT\"\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then(({ auth, vote }) => {\r\n        if (auth && vote) {\r\n          setStarValue(rating)\r\n        }\r\n      })\r\n  }\r\n\r\n  const checkLike = () => {\r\n    fetch('/vote', {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      },\r\n      body: JSON.stringify({ title }),\r\n      method: \"POST\"\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then(({ auth, voted }) => {\r\n        if (auth && voted) {\r\n          setStarValue(voted)\r\n        }\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(token){\r\n      checkLike()\r\n      fetchFilmLike()\r\n    }\r\n  }, [token])\r\n\r\n  if (isRendered) {\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar token={token} setToken={setToken}/>\r\n        {data !== undefined ? (\r\n          <section id=\"specificFilm\" ref={sectionFilm}>\r\n            <img src={data.Poster} alt=\"\" />\r\n            <div id=\"filmInformation\">\r\n              <h1 id=\"title\">{data.Title}</h1>\r\n              <h5 id=\"plot\">{data.Plot}</h5>\r\n              <h5 id=\"genre\">{data.Genre}</h5>\r\n              <h5 id=\"runtime\">{data.Runtime}</h5>\r\n              <h5 id=\"released\">{data.Released}</h5>\r\n              <h5 id=\"director\">Director: {data.Director}</h5>\r\n              <h5 id=\"actors\">Actors: {data.Actors}</h5>\r\n              <h5 id=\"awards\">{data.Awards}</h5>\r\n              <h5 id=\"imdbRating\">\r\n                {(data.imdbRating/2).toFixed(1)} <i className=\"far fa-star\"></i> |{\" \"}\r\n                {data.imdbVotes} <i className=\"fas fa-vote-yea\"></i> IMDb\r\n                ratings\r\n              </h5>\r\n              {followingLikes!==false && (\r\n              <div id='friendsLike'>\r\n                    {followingLikes.length>0 && (\r\n                      <h5>People you follow that liked this movie: {followingLikes.map(([id, user], index) => (\r\n                        <React.Fragment key={index}>\r\n                        <a href={`/user-search/${id}`}>{user}</a>{index < followingLikes.length - 1 && ', '}\r\n                        </React.Fragment>\r\n                      ))}</h5>\r\n                    )}\r\n                    {followingLikes.length===0 && (\r\n                      <h5>None of the people you follow liked this movie yet</h5>\r\n                    )}\r\n                  </div>)}\r\n              {token && (\r\n                <div>\r\n                  <div id=\"vote\">\r\n                    <h5 id=\"textRating\">Rate the film</h5>\r\n                    <Rating name=\"rating\" onChange={(event, newValue)=>onLikeClick(newValue)} value={starValue} precision={1} emptyIcon = {<StarIcon sx={{ stroke: \"#f4a704\", strokeWidth: 1 }} color='auction' fontSize=\"inherit\"/>}/>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n        ) : (\r\n          <div id=\"filmNotFound\">\r\n            <h1>\r\n              FILM <span>NOT FOUND</span> TRY ANOTHER NAME\r\n            </h1>\r\n          </div>\r\n        )}\r\n        <Footer />\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar token={token} />\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>{\" \"}\r\n        <Footer />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchedFilm\r\n","import fetch from \"node-fetch\"\r\nimport React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport \"./login.css\"\r\n\r\nconst Login = ({ setToken }) => {\r\n  const [message, setMessage] = useState()\r\n  const [inputUsername, setInputUsername] = useState(\"\")\r\n  const [inputPassword, setInputPassword] = useState(\"\")\r\n  const history = useHistory()\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (inputUsername.length > 0 && inputPassword.length > 0) {\r\n      fetch(\"/login\", {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          username: inputUsername,\r\n          password: inputPassword\r\n        })\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.message) {\r\n            setMessage(data.message)\r\n          } else {\r\n            setToken(data.token)\r\n            history.push(\"/\")\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"loginPage\">\r\n      <form id=\"loginForm\" onSubmit={onFormSubmit}>\r\n        <a href=\"/\">\r\n          <img src=\"/img/dkLogo.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n\r\n        {message === undefined ? (\r\n          <h1 id=\"title\">Log in</h1>\r\n        ) : (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={inputUsername}\r\n            spellCheck=\"false\"\r\n            onChange={(e) => setInputUsername(e.target.value)}\r\n            autoComplete=\"username\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={inputPassword}\r\n            onChange={(e) => {\r\n              setInputPassword(e.target.value)\r\n            }}\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <a id=\"registrationLink\" href=\"/registration\">\r\n            Do not have an account? Create it now\r\n          </a>\r\n        </div>\r\n\r\n        <button className=\"btn\" onClick={onFormSubmit}>\r\n          SUBMIT\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import fetch from \"node-fetch\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport \"./registration.css\"\r\n\r\nconst Registration = ({ setToken }) => {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [mail, setMail] = useState(\"\")\r\n  const [password, setPassoword] = useState(\"\")\r\n  const [isFormValid, setIsFormValid] = useState(false)\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  const history = useHistory()\r\n\r\n  const usernameInput = useRef()\r\n  const passwordInput = useRef()\r\n  const mailInput = useRef()\r\n  const validPassword = useRef(false)\r\n  const passwordHelper = useRef()\r\n  const validMail = useRef(false)\r\n  const mailHelper = useRef()\r\n  const validUsername = useRef(false)\r\n  const usernameHelper = useRef()\r\n\r\n  const submitButton = useRef()\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault()\r\n    fetch(\"/registration\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({ username, mail, password })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.message) {\r\n          setMessage(data.message)\r\n        } else {\r\n          setToken(data.token)\r\n          history.push(\"\")\r\n        }\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      const regex = /^(?=.{3,14}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\r\n      if (username.match(regex)) {\r\n        validUsername.current = true\r\n        usernameHelper.current.style.color = \"green\"\r\n        usernameInput.current.classList.remove(\"invalid\")\r\n        usernameInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        validUsername.current = false\r\n        usernameHelper.current.style.color = \"red\"\r\n        usernameInput.current.classList.remove(\"valid\")\r\n        usernameInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (mail) {\r\n      const regex = /^[^ ]+@[^ ]+\\.[a-z]{2,3}$/\r\n      if (mail.match(regex)) {\r\n        mailHelper.current.innerHTML = \"<i class='fas fa-info'></i> Valid email\"\r\n        mailHelper.current.style.color = \"green\"\r\n        validMail.current = true\r\n        mailInput.current.classList.remove(\"invalid\")\r\n        mailInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        mailHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> Invalid email\"\r\n        mailHelper.current.style.color = \"red\"\r\n        validMail.current = false\r\n        mailInput.current.classList.remove(\"valid\")\r\n        mailInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  }, [mail])\r\n\r\n  useEffect(() => {\r\n    if (password) {\r\n      const regex = /^[A-Za-z]\\w{5,13}$/\r\n      if (password.match(regex)) {\r\n        passwordHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> Valid password\"\r\n        passwordHelper.current.style.color = \"green\"\r\n        validPassword.current = true\r\n        passwordInput.current.classList.remove(\"invalid\")\r\n        passwordInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        passwordHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> 7 to 15 characters and the first must be a letter\"\r\n        passwordHelper.current.style.color = \"red\"\r\n        validPassword.current = false\r\n        passwordInput.current.classList.remove(\"valid\")\r\n        passwordInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  }, [password])\r\n\r\n  const checkFormValid = () => {\r\n    if (validUsername.current && validMail.current && validPassword.current) {\r\n      submitButton.current.disabled = false\r\n      submitButton.current.style.backgroundColor = \"white\"\r\n      submitButton.current.style.color = \"black\"\r\n      submitButton.current.classList = \"btn btn-abled\"\r\n      setIsFormValid(true)\r\n    } else {\r\n      submitButton.current.disabled = true\r\n      submitButton.current.style.backgroundColor = \"red\"\r\n      submitButton.current.classList = \"btn\"\r\n      setIsFormValid(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"registrationPage\">\r\n      <form onSubmit={onFormSubmit} className=\"form-registration\">\r\n        <a href=\"/\">\r\n          <img src=\"/img/dkLogo.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n        {message && (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {message}\r\n          </div>\r\n        )}\r\n        <h1 id=\"title\">Create account</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            ref={usernameInput}\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            autoComplete=\"username\"\r\n          />\r\n          <small id=\"usernameHelp\" className=\"form-text\" ref={usernameHelper}>\r\n            <i className=\"fas fa-info\"></i> Letters between 4 and 15\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"mail\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"mail\"\r\n            ref={mailInput}\r\n            name=\"mail\"\r\n            value={mail}\r\n            onChange={(e) => setMail(e.target.value)}\r\n            autoComplete=\"email\"\r\n          />\r\n          <small id=\"emailHelper\" className=\"form-text\" ref={mailHelper}>\r\n            <i className=\"fas fa-info\"></i> Insert a valid email\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            ref={passwordInput}\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassoword(e.target.value)}\r\n            autoComplete=\"new-password\"\r\n          />\r\n          <small id=\"passwordHelp\" ref={passwordHelper} className=\"form-text\">\r\n            <i className=\"fas fa-info\"></i> 7 to 15 characters and the first\r\n            must be a letter\r\n          </small>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn\"\r\n          ref={submitButton}\r\n          onClick={onFormSubmit}\r\n          disabled>\r\n          SUBMIT\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Registration\r\n","import React, { useEffect } from \"react\"\r\n\r\nconst Sidebar = ({ genres, currentGenre, setCurrentGenre }) => {\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n  return (\r\n    <aside className=\"user-genres\">\r\n      <div id=\"genresLegend\">\r\n        <h1>GENRES</h1>\r\n      </div>\r\n      <ul>\r\n        <li key=\"0\" onClick={onGenreClick}>\r\n          All genres\r\n        </li>\r\n        {genres\r\n          .filter((genre) => genre !== currentGenre)\r\n          .map((genre, index) => (\r\n            <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n              {genre}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\"\r\n\r\nconst UserCatalog = ({ films, currentGenre }) => {\r\n  return (\r\n    <article className=\"user-films\">\r\n      <div id=\"title\">\r\n        <h1>MOVIES YOU LIKED</h1>\r\n      </div>\r\n      <section id=\"favouriteFilms\">\r\n        {films\r\n          .filter((film) => film.Genre.includes(currentGenre))\r\n          .map((film, index) => {\r\n            return (\r\n              <div className=\"card\" key={index}>\r\n                <a href={`/film/${film.Title}`}>\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src={film.Poster}\r\n                    alt=\"Cardcap\"\r\n                  />\r\n                </a>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{film.Title}</h5>\r\n                  <p className=\"card-text\" id=\"rating\">\r\n                    {(film.imdbRating/2).toFixed(1)} <i className=\"far fa-star\"></i>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default UserCatalog\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport UserSidebar from \"./UserSidebar.js\"\r\nimport \"./userCatalog.css\"\r\nimport UserCatalog from \"./UserCatalog.js\"\r\n\r\nconst UserFilms = ({ token, setToken}) => {\r\n  const [currentGenre, setCurrentGenre] = useState(\"\")\r\n  const genres = useRef()\r\n  const [isRendered, setIsRendered] = useState(false)\r\n  const films = useRef()\r\n  const clicked = useRef(false)\r\n  const allGenres = useRef()\r\n\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n\r\n  const onButtonFilterClick = () => {\r\n    if (clicked.current) {\r\n      clicked.current = false\r\n      allGenres.current.style.display = \"none\"\r\n    } else {\r\n      clicked.current = true\r\n      allGenres.current.style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (token !== \"\") {\r\n      fetch(`/user-data`, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          Authorization: \"Bearer \" + token\r\n        }\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ userGenres, userFilms, auth }) => {\r\n          if (auth) {\r\n            genres.current = userGenres\r\n            films.current = userFilms\r\n            setIsRendered(true)\r\n          }\r\n        })\r\n    } \r\n  }, [token])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar token={token} setToken={setToken}/>\r\n      {isRendered ? (\r\n        films.current.length > 0 ? (\r\n          <React.Fragment>\r\n            <div id=\"filterGenres\" onClick={onButtonFilterClick}>\r\n              <i className=\"fas fa-sort-down\"></i> Filter by genre{\" \"}\r\n              <i className=\"fas fa-sort-down\"></i>\r\n            </div>\r\n            <div id=\"allGenres\" ref={allGenres}>\r\n              <ul>\r\n                <li key=\"0\" onClick={onGenreClick}>\r\n                  All genres\r\n                </li>\r\n                {genres.current\r\n                  .filter((genre) => genre !== currentGenre)\r\n                  .map((genre, index) => (\r\n                    <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n                      {genre}\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n            <main>\r\n              <React.Fragment>\r\n                <UserSidebar\r\n                  genres={genres.current}\r\n                  currentGenre={currentGenre}\r\n                  setCurrentGenre={setCurrentGenre}\r\n                />\r\n                <UserCatalog\r\n                  films={films.current}\r\n                  currentGenre={currentGenre}\r\n                />\r\n              </React.Fragment>\r\n            </main>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div id=\"noFilm\">\r\n            <h1>\r\n              you haven't <span>voted</span> any movie yet.\r\n            </h1>\r\n          </div>\r\n        )\r\n      ) : (\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      )}\r\n      <Footer />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserFilms\r\n","import React, { useEffect } from \"react\"\r\n\r\nconst Sidebar = ({ genres, currentGenre, setCurrentGenre }) => {\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n\r\n  return (\r\n    <aside className=\"user-genres\">\r\n      <div id=\"genresLegend\">\r\n        <h1>GENRES</h1>\r\n      </div>\r\n      <ul>\r\n        <li key=\"0\" onClick={onGenreClick}>\r\n          All\r\n        </li>\r\n        {genres\r\n          .map((genre, index) => (\r\n            <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n              {genre}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\"\r\n\r\nconst UserCatalog = ({ films, currentGenre, username}) => {\r\n  return (\r\n    <article className=\"user-films\">\r\n      <div id=\"title\">\r\n        <h1>{currentGenre.toUpperCase()} MOVIES THAT {username.toUpperCase()} LIKED</h1>\r\n      </div>\r\n      <section id=\"favouriteFilms\">\r\n        {films\r\n          .filter((film) => film.Genre.includes(currentGenre))\r\n          .map((film, index) => {\r\n            return (\r\n              <div className=\"card\" key={index}>\r\n                <a href={`/film/${film.Title}`}>\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src={film.Poster}\r\n                    alt=\"Cardcap\"\r\n                  />\r\n                </a>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{film.Title}</h5>\r\n                  <p className=\"card-text\">\r\n                    {(film.rating).toFixed(1)} <i className=\"far fa-star\"></i> User rating <br></br>\r\n                    {(film.imdbRating/2).toFixed(1)} <i className=\"far fa-star\"></i> IMDb rating\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default UserCatalog\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport UserSidebar from \"./SearchUserSidebar.js\"\r\nimport \"./searchUserCatalog.css\"\r\nimport UserCatalog from \"./SearchUserCatalog.js\"\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, registerables } from \"chart.js\";\r\nimport { Doughnut, Line } from \"react-chartjs-2\";\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, ...registerables);\r\n\r\nconst data_doughnut = {\r\n  datasets: [{\r\n    label: 'Movies per genre',\r\n    borderColor: 'rgb(0, 0, 0)',\r\n    borderWidth: 1\r\n  }]\r\n};\r\n\r\nconst data_line = {\r\n  datasets:[{\r\n    label: 'Timeline',\r\n  }], \r\n  options: {\r\n    scales: {\r\n      x: {\r\n        type: 'time'\r\n      },\r\n      y: [{\r\n        ticks: {\r\n            precision: 0\r\n        }\r\n    }]\r\n    }\r\n  }\r\n}\r\n\r\nconst SearchUserFilms = ({ token, setToken}) => {\r\n  const [currentGenre, setCurrentGenre] = useState(\"\")\r\n  const genres = useRef()\r\n  const films = useRef()\r\n  const favoriteGenre = useRef()\r\n  const { userId } = useParams()\r\n  const clicked = useRef(false)\r\n  const allGenres = useRef()\r\n  const timeline = useRef()\r\n  const [username, setUsername] = useState('')\r\n  const [followed, setFollowed] = useState(false)\r\n  const [buttonText, setButtonText] = useState('Follow'); // Initial text\r\n  const [buttonColor, setButtonColor] = useState('#68beff');\r\n  const [followers, setFollowers] = useState({})\r\n  const [followings, setFollowings] = useState({})\r\n  const [viewFollowings, setViewFollowings] = useState('none')\r\n  const [viewFollowers, setViewFollowers] = useState('none')\r\n  const [chartVisible, setChartVisible] = useState(false)\r\n\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n\r\n  const onButtonFilterClick = () => {\r\n    if (clicked.current) {\r\n      clicked.current = false\r\n      allGenres.current.style.display = \"none\"\r\n    } else {\r\n      clicked.current = true\r\n      allGenres.current.style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  const checkFollow = () => {\r\n    const url = encodeURI(`/follow/${userId}`)\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      }\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then(({ auth, followed}) => {\r\n        if (auth && followed) {\r\n          setFollowed(true)\r\n        }\r\n      })\r\n  }\r\n\r\n  const handleFollow = () => {\r\n    const url = encodeURI(`/${followed ? 'un' : ''}follow/${userId}`)\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      },\r\n      method: \"PUT\"\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then(({ auth, status }) => {\r\n        if (auth && status) {\r\n          setFollowed(!followed)\r\n        }\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleConnections = () => {\r\n      const url = encodeURI(`/connections/${userId}`)\r\n      fetch(url)\r\n        .then((response) => {\r\n          return response.json()\r\n        })\r\n        .then(({followers, followings }) => {\r\n          setFollowings(followings)\r\n          setFollowers(followers)\r\n        })\r\n    }\r\n\r\n    const filterDate = (mode = 'day') => {\r\n      const currentDate = new Date()\r\n      const filteredValues = []\r\n      if (mode==='day'){\r\n        for (let i=6; i>=0; i--){\r\n          const currentDateCopy = new Date(currentDate);\r\n          currentDateCopy.setDate(currentDate.getDate() - i);\r\n          const formattedDate = currentDateCopy.toISOString().split('T')[0];\r\n          filteredValues[formattedDate] = 0;\r\n        }\r\n        for ( const [key,value] of  Object.entries(timeline.current)) {\r\n          if (filteredValues.hasOwnProperty(key)) {\r\n              filteredValues[key] = value\r\n          }\r\n        }\r\n      }\r\n      \r\n      else if (mode==='year'){\r\n        for (let i=3; i>=0; i--){\r\n          const currentDateCopy = new Date(currentDate);\r\n          currentDateCopy.setMonth(currentDate.getMonth() - i);\r\n          const formattedDate = currentDateCopy.toISOString().split('-')[1];\r\n          filteredValues[formattedDate] = 0;\r\n        }\r\n        for ( let [key,value] of  Object.entries(timeline.current)) {\r\n          key = key.split('-')[1]\r\n          if (filteredValues.hasOwnProperty(key)) {\r\n              filteredValues[key] = value\r\n          }\r\n        }\r\n      }\r\n      const result = []\r\n      for (const [key,value] of Object.entries(filteredValues)){\r\n        result.push({x:key, y:value})\r\n      }\r\n      data_line.datasets[0].data = result\r\n    }\r\n\r\n    const getTimeline = () => {\r\n      const timestampCounts = {};\r\n      \r\n      // Iterate through the keys (dates) of the input dictionary\r\n      for (const film of films.current) {\r\n        // Get the timestamp for the current date\r\n        const timestamp = film.timestamp.split('T')[0];\r\n        \r\n        timestampCounts[timestamp] = (timestampCounts[timestamp] || 0) + 1;\r\n      }\r\n      // Return the object containing the count for each timestamp\r\n      timeline.current = timestampCounts\r\n      filterDate()\r\n    }\r\n\r\n    const getFavoriteGenre = () => {\r\n      const allGenres = films.current.flatMap(movie => movie.Genre.split(',').map(genre => genre.trim()));\r\n      const genreCounts = allGenres.reduce((acc, genre) => {\r\n        acc[genre] = (acc[genre] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n      data_doughnut.labels=Object.keys(genreCounts)\r\n      data_doughnut.datasets[0].data = Object.keys(genreCounts).map(key => genreCounts[key])\r\n      const numberOfGenres = data_doughnut.datasets[0].data.length\r\n      const colors = []\r\n      for (let i=0; i<numberOfGenres; i++){\r\n        const diff_1 = 255 - ((255-104)/(numberOfGenres-1))*i\r\n        const diff_2 = 155 + ((190-153)/(numberOfGenres-1))*i\r\n        const diff_3 = 0 + (255/(numberOfGenres-1))*i\r\n        colors.push('rgb('+ parseInt(diff_1) +', ' + parseInt(diff_2) + ', ' + parseInt(diff_3) + ')')\r\n      }\r\n      console.log(colors)\r\n      data_doughnut.datasets[0].backgroundColor = colors\r\n      const maxKey = Object.keys(genreCounts).reduce((res, cur) => {return genreCounts[res]>genreCounts[cur] ? res : cur})\r\n      return maxKey\r\n    }\r\n\r\n    const getUserData = () => {\r\n      fetch(`/search-user-data/${userId}`)\r\n        .then((response) => response.json())\r\n        .then(({ username, userGenres, userFilms}) => {\r\n          if(username!==''){\r\n            genres.current = userGenres\r\n            films.current = userFilms\r\n            if (films.current.length > 0){\r\n              getTimeline()\r\n              favoriteGenre.current = getFavoriteGenre()\r\n            } else {\r\n              favoriteGenre.current = 'None'\r\n            }\r\n            \r\n            setUsername(username)\r\n          }\r\n        })\r\n    }\r\n    \r\n    getUserData()\r\n    handleConnections()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setButtonText(followed ? 'Unfollow' : 'Follow');\r\n    setButtonColor(followed ? '#ff9900' : '#68beff');\r\n  }, [followed])\r\n\r\n  useEffect(() => {\r\n    if(token){\r\n      checkFollow()\r\n    }\r\n  }, [token]) //because during the first load the navbar changes the token from ''\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar token={token} setToken={setToken}/>\r\n      <div id=\"followings-div\" style={{display: viewFollowings}}></div>\r\n      \r\n        <div id='followings-div2' style={{display: viewFollowings}}>\r\n          <h3>Followings</h3>\r\n          <ul>\r\n            {Object.entries(followings).map(([key,value]) => {\r\n                return (\r\n                  <li key={key}>\r\n                    <a href={`/user-search/${key}`}>\r\n                    <p>{value}</p> <i className=\"fa-solid fa-arrow-right\"></i>\r\n                    </a>\r\n                  </li>\r\n                )\r\n            })}\r\n          </ul>\r\n          <i onClick={()=>{setViewFollowings('none')}} class=\"fa-solid fa-xmark\"></i>\r\n        </div>\r\n        <div id=\"followings-div\" style={{display: viewFollowers}}></div>\r\n      \r\n        <div id='followings-div2' style={{display: viewFollowers}}>\r\n          <h3>Followers</h3>\r\n          <ul>\r\n            {Object.entries(followers).map(([key,value]) => {\r\n                return (\r\n                  <li key={key}>\r\n                    <a href={`/user-search/${key}`}>\r\n                    <p>{value}</p> <i className=\"fa-solid fa-arrow-right\"></i>\r\n                    </a>\r\n                  </li>\r\n                )\r\n            })}\r\n          </ul>\r\n          <i onClick={()=>{setViewFollowers('none')}} class=\"fa-solid fa-xmark\"></i>\r\n        </div>\r\n      {username !== '' ? (\r\n        <div id='searched-user'>\r\n          <div id='user-info-wrapper'>\r\n            <div id='user-info'>\r\n              <div id='username-div'>@{username}</div>\r\n              <div className=\"other clickable\" onClick={()=>{setViewFollowers('block')}}>FOLLOWERS: {Object.keys(followers).length}</div>\r\n              <div className=\"other clickable\" onClick={()=>{setViewFollowings('block')}}>FOLLOWINGS: {Object.keys(followings).length}</div>\r\n              <div className=\"other\">FAVORITE GENRE: {favoriteGenre.current}</div>\r\n              {token && (\r\n                <div id=\"follow-button\" style={{color: buttonColor, borderColor: buttonColor}} onClick={() => {handleFollow()}}>\r\n                  {buttonText}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        {films.current.length > 0 ? (\r\n          <React.Fragment>\r\n            <div id=\"filterGenres\" onClick={onButtonFilterClick}>\r\n              <i className=\"fas fa-sort-down\"></i> Filter by genre{\" \"}\r\n              <i className=\"fas fa-sort-down\"></i>\r\n            </div>\r\n            <div id=\"allGenres\" ref={allGenres}>\r\n              <ul>\r\n                <li key=\"0\" onClick={onGenreClick}>\r\n                  All genres\r\n                </li>\r\n                {genres.current\r\n                  .filter((genre) => genre !== currentGenre)\r\n                  .map((genre, index) => (\r\n                    <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n                      {genre}\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n            <main>\r\n              <React.Fragment>\r\n                <UserSidebar\r\n                  genres={genres.current}\r\n                  currentGenre={currentGenre}\r\n                  setCurrentGenre={setCurrentGenre}\r\n                />\r\n                <UserCatalog\r\n                  films={films.current}\r\n                  currentGenre={currentGenre}\r\n                  username = {username}\r\n                />\r\n              </React.Fragment>\r\n            </main>\r\n            <div className='charts'>\r\n              {chartVisible ? (\r\n              <div className=\"chart-container doughnut\">\r\n                <h2>Distribution of genres based on rated movies</h2>\r\n                <Doughnut data={data_doughnut} />\r\n              </div>\r\n              ):(\r\n              <div className=\"chart-container line\">\r\n                <h2>Movie rated in the last 7 days</h2>\r\n                <Line data={data_line} />\r\n              </div>\r\n              )}\r\n              <i className=\"fa-solid fa-arrow-left\" onClick={()=>{setChartVisible(!chartVisible)}}></i>\r\n              <i className=\"fa-solid fa-arrow-right\" onClick={()=>{setChartVisible(!chartVisible)}}></i>\r\n            </div>\r\n            \r\n          </React.Fragment>\r\n        ) : (\r\n          <div id=\"noFilm\">\r\n            <h1>\r\n              They haven't <span>voted</span> any movie yet.\r\n            </h1>\r\n          </div>\r\n        )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      )}\r\n      <Footer />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SearchUserFilms\r\n","import React from \"react\"\r\nimport \"./page404.css\"\r\nconst Page404 = () => {\r\n  return (\r\n    <div className=\"body-error404\">\r\n      <div className=\"div-error404\">\r\n        <a href=\"/\">\r\n          <img src=\"/img/logo2.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n        <h1>\r\n          <i class=\"fas fa-exclamation-triangle\"></i> ERROR 404{\" \"}\r\n          <i class=\"fas fa-exclamation-triangle\"></i> <br /> PAGE NOT FOUND{\" \"}\r\n        </h1>\r\n        <a href=\"/\" id=\"homepageLink\">\r\n          <i class=\"fas fa-home\"></i> BACK TO HOME PAGE{\" \"}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Page404\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport Home from \"./components/Homepage/Home.js\"\r\nimport SearchedFilm from \"./components/Film/SearchedFilm.js\"\r\nimport Login from \"./components/Login/Login.js\"\r\nimport Registration from \"./components/Registration/Registration.js\"\r\nimport UserMenu from \"./components/User/UserMenu.js\"\r\nimport SearchUserMenu from './components/UserSearch/SearchUserMenu.js'\r\nimport Page404 from \"./components/404Page/Page404.js\"\r\nimport \"./components/Homepage/index.css\"\r\nconst App = () => {\r\n  const getCookie = (cname) => {\r\n    const name = cname + \"=\"\r\n    const decodedCookie = decodeURIComponent(document.cookie)\r\n    const ca = decodedCookie.split(\";\")\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i]\r\n      while (c.charAt(0) === \" \") {\r\n        c = c.substring(1)\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length)\r\n      }\r\n    }\r\n    return \"\"\r\n  }\r\n\r\n  const [token, setToken] = useState(\"\")\r\n  useEffect(() => {\r\n    setToken(getCookie(\"jwt\"))\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/film/:title\">\r\n            <SearchedFilm token={token} setToken={setToken}/>\r\n          </Route>\r\n          <Route exact path=\"/user-search/:userId\">\r\n            <SearchUserMenu token={token} setToken={setToken}/>\r\n          </Route>\r\n          <Route exact path=\"/profile\">\r\n            <UserMenu token={token} setToken={setToken}/>\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Login setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/registration\">\r\n            <Registration setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Home token={token} setToken={setToken}/>\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Page404 />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}