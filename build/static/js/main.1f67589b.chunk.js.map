{"version":3,"sources":["components/Homepage/Sidebar.js","components/Homepage/FilmCard.js","components/Homepage/Pagination.js","components/Homepage/Catalog.js","components/Navbar.js","components/Footer.js","components/Homepage/Home.js","components/Film/SearchedFilm.js","components/Login/Login.js","components/Registration/Registration.js","components/User/UserSidebar.js","components/User/UserCatalog.js","components/User/UserMenu.js","components/404Page/Page404.js","App.js","index.js"],"names":["Sidebar","genres","currentGenre","setCurrentGenre","setIsRendered","id","filter","genre","name","map","index","onClick","e","target","innerText","Card","film","className","href","Title","src","Poster","alt","Plot","Genre","imdbRating","imdbVotes","Pagination","pagesNumber","onPageClick","currentPage","ListPages","content","push","data-page","Catalog","isRendered","changeGenreButton","useRef","articleFilms","articleGenres","titleGenre","films","paginationBar","getActualPageFilms","fetch","current","headers","Accept","then","response","json","listOfFilms","useEffect","res","pagesLength","Math","ceil","isNaN","dataset","page","console","log","changeMode","style","display","innerHTML","SectionFilms","Fragment","ref","imdbID","parseInt","Navbar","token","setToken","userButton","logoutButton","history","useHistory","useState","input","setInput","results","setResults","tokenNotValid","checkAccess","Authorization","method","data","username","auth","tokenIsValid","catch","timeoutSearch","setTimeout","Response","Search","clearTimeout","onSubmit","preventDefault","spellCheck","autoComplete","type","value","onChange","placeholder","length","undefined","document","cookie","Footer","Home","SearchedFilm","setData","title","useParams","likeButton","dislikeButton","sectionFilm","url","encodeURI","found","onLikeClick","rating","body","JSON","stringify","vote","color","Runtime","Released","Director","Actors","Awards","Login","message","setMessage","inputUsername","setInputUsername","inputPassword","setInputPassword","onFormSubmit","password","role","htmlFor","Registration","setUsername","mail","setMail","setPassoword","setIsFormValid","usernameInput","passwordInput","mailInput","validPassword","passwordHelper","validMail","mailHelper","validUsername","usernameHelper","submitButton","match","classList","remove","add","checkFormValid","disabled","backgroundColor","onGenreClick","UserCatalog","includes","UserFilms","clicked","allGenres","userGenres","userFilms","UserSidebar","Page404","class","App","cname","ca","decodeURIComponent","split","i","c","charAt","substring","indexOf","getCookie","exact","path","UserMenu","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f67589b.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Sidebar = ({ genres, currentGenre, setCurrentGenre, setIsRendered }) => {\r\n  return (\r\n    <aside>\r\n      <div id=\"genresLegend\">\r\n        <h1>GENRES</h1>\r\n      </div>\r\n      <ul>\r\n        {genres\r\n          .filter((genre) => genre.name !== currentGenre)\r\n          .map((genre, index) => {\r\n            return (\r\n              <li\r\n                key={index}\r\n                onClick={(e) => {\r\n                  setCurrentGenre(e.target.innerText)\r\n                  setIsRendered(false)\r\n                }}>\r\n                <span>\r\n                  <span>\r\n                    <span>{genre.name}</span>\r\n                  </span>\r\n                </span>\r\n              </li>\r\n            )\r\n          })}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\"\r\n\r\nconst Card = ({ film }) => {\r\n  return (\r\n    <li className=\"card\">\r\n      <a href={`/film/${film.Title}`}>\r\n        <img className=\"card-img-top\" src={film.Poster} alt=\"Cardcap\" />\r\n      </a>\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{film.Title}</h5>\r\n        <hr />\r\n        <p className=\"card-text\" id=\"plot\">\r\n          {film.Plot}\r\n        </p>\r\n        <h6 className=\"card-label\">GENRE</h6>\r\n        <p className=\"card-text\" id=\"filmGenre\">\r\n          {film.Genre}\r\n        </p>\r\n        <h6 className=\"card-label\">IMDB RATING</h6>\r\n        <p className=\"card-text\">\r\n          {film.imdbRating}\r\n          <i className=\"far fa-star\"></i> | {film.imdbVotes}\r\n          <i className=\"fas fa-vote-yea\"></i>\r\n        </p>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import React from \"react\"\r\nimport \"./pagination.css\"\r\n\r\nconst Pagination = ({ pagesNumber, onPageClick, currentPage }) => {\r\n  const ListPages = () => {\r\n    const content = []\r\n    for (let index = 0; index < pagesNumber; index++) {\r\n      content.push(\r\n        <li\r\n          className={currentPage === index ? \"active page-item\" : \"page-item\"}\r\n          data-page={index}\r\n          key={index}\r\n          onClick={onPageClick}>\r\n          {index + 1}\r\n        </li>\r\n      )\r\n    }\r\n\r\n    return content\r\n  }\r\n\r\n  return (\r\n    <ul className=\"pagination justify-content-center\">\r\n      {currentPage > 0 ? (\r\n        <li\r\n          data-page={currentPage - 1}\r\n          onClick={onPageClick}\r\n          className=\"page-item\">\r\n          <i className=\"fas fa-angle-double-left\"></i>\r\n        </li>\r\n      ) : null}\r\n      <ListPages />\r\n      {currentPage + 1 < pagesNumber ? (\r\n        <li\r\n          data-page={currentPage + 1}\r\n          onClick={onPageClick}\r\n          className=\"page-item\">\r\n          <i className=\"fas fa-angle-double-right\"></i>\r\n        </li>\r\n      ) : null}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React, { useEffect, useRef } from \"react\"\r\nimport Card from \"./FilmCard.js\"\r\nimport Pagination from \"./Pagination.js\"\r\n\r\nconst Catalog = ({\r\n  currentGenre,\r\n  genres,\r\n  setCurrentGenre,\r\n  isRendered,\r\n  setIsRendered\r\n}) => {\r\n  const changeGenreButton = useRef()\r\n  const articleFilms = useRef()\r\n  const articleGenres = useRef()\r\n  const titleGenre = useRef()\r\n  const films = useRef([])\r\n  const currentPage = useRef(0)\r\n  const pagesNumber = useRef()\r\n  const paginationBar = useRef()\r\n\r\n  const getActualPageFilms = () => {\r\n    fetch(`/films?genre=${currentGenre}&page=${currentPage.current}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\"\r\n      }\r\n    })\r\n      .then((response) => response.json())\r\n      .then(({ listOfFilms }) => {\r\n        films.current = listOfFilms\r\n        setIsRendered(true)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    currentPage.current = 0\r\n    getActualPageFilms()\r\n  }, [currentGenre])\r\n\r\n  useEffect(() => {\r\n    fetch(`/pagination?genre=${currentGenre}`)\r\n      .then((res) => res.json())\r\n      .then(\r\n        ({ pagesLength }) => (pagesNumber.current = Math.ceil(pagesLength / 10))\r\n      )\r\n  })\r\n\r\n  const onPageClick = (e) => {\r\n    setIsRendered(false)\r\n    currentPage.current = isNaN(e.target.dataset.page)\r\n      ? 0\r\n      : e.target.dataset.page\r\n    console.log(currentPage)\r\n    getActualPageFilms()\r\n  }\r\n\r\n  const changeMode = () => {\r\n    if (articleFilms.current.style.display !== \"none\") {\r\n      articleFilms.current.style.display = \"none\"\r\n      paginationBar.current.style.display = \"none\"\r\n      articleGenres.current.style.display = \"grid\"\r\n      titleGenre.current.innerHTML = \"Choose the genre\"\r\n    } else {\r\n      articleFilms.current.style.display = \"grid\"\r\n      paginationBar.current.style.display = \"block\"\r\n      articleGenres.current.style.display = \"none\"\r\n      titleGenre.current.innerHTML = currentGenre\r\n    }\r\n  }\r\n\r\n  const SectionFilms = () => {\r\n    if (isRendered) {\r\n      return (\r\n        <React.Fragment>\r\n          <article id=\"articleFilms\" ref={articleFilms}>\r\n            {films.current.map((film) => {\r\n              return <Card film={film} key={film.imdbID} />\r\n            })}\r\n          </article>\r\n          <nav ref={paginationBar}>\r\n            {pagesNumber.current > 1 ? (\r\n              <Pagination\r\n                onPageClick={onPageClick}\r\n                pagesNumber={pagesNumber.current}\r\n                currentPage={parseInt(currentPage.current)}\r\n              />\r\n            ) : null}\r\n          </nav>\r\n        </React.Fragment>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"module-border-wrap\">\r\n        <div id=\"slogan\">\r\n          <img src=\"/img/logo.jpg\" alt=\"logo\" />\r\n          <h2>Search. Vote. Save.</h2>\r\n          <h1>ANY MOVIE IN YOUR MIND</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"genre\" id={currentGenre}>\r\n        <h1 id=\"currentGenre\" ref={titleGenre}>\r\n          {currentGenre}\r\n        </h1>\r\n        <i\r\n          id=\"changeGenre\"\r\n          ref={changeGenreButton}\r\n          onClick={changeMode}\r\n          className=\"fas fa-exchange-alt\"></i>\r\n      </div>\r\n\r\n      <SectionFilms />\r\n\r\n      <article id=\"articleGenres\" ref={articleGenres}>\r\n        <ul>\r\n          {genres\r\n            .filter((genre) => genre.name !== currentGenre)\r\n            .map((genre) => {\r\n              return (\r\n                <li\r\n                  key={genre.id}\r\n                  onClick={(e) => {\r\n                    setCurrentGenre(e.target.innerText)\r\n                    setIsRendered(false)\r\n                    changeMode()\r\n                  }}>\r\n                  <span>\r\n                    <span>\r\n                      <span>{genre.name}</span>\r\n                    </span>\r\n                  </span>\r\n                </li>\r\n              )\r\n            })}\r\n        </ul>\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Catalog\r\n","import fetch from \"node-fetch\"\r\nimport React, { useState, useEffect, useRef } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Navbar = ({ token, setToken }) => {\r\n  const userButton = useRef()\r\n  const logoutButton = useRef()\r\n  const history = useHistory()\r\n  const [input, setInput] = useState(\"\")\r\n  const [results, setResults] = useState([])\r\n\r\n  const tokenIsValid = (username) => {\r\n    userButton.current.href = `/user/${username}`\r\n    userButton.current.innerHTML = `<i class=\"fa fa-user\"></i> ${username}`\r\n    userButton.current.style[\"border-radius\"] = \"10px 0 0 10px\"\r\n    logoutButton.current.style.display = \"inline\"\r\n  }\r\n\r\n  const tokenNotValid = () => {\r\n    userButton.current.href = \"/login\"\r\n    userButton.current.innerHTML = \"<i class='fa fa-user'></i> GET STARTED\"\r\n    userButton.current.style[\"border-radius\"] = \"10px\"\r\n    logoutButton.current.style.display = \"none\"\r\n  }\r\n\r\n  const checkAccess = () => {\r\n    if (token !== \"\") {\r\n      fetch(\"/token\", {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          Authorization: \"Bearer \" + token\r\n        },\r\n        method: \"POST\"\r\n      })\r\n        .then((response) => {\r\n          return response.json()\r\n        })\r\n        .then((data) => {\r\n          const { username, auth } = data\r\n          auth ? tokenIsValid(username) : tokenNotValid()\r\n        })\r\n        .catch(() => {\r\n          tokenNotValid()\r\n        })\r\n    } else {\r\n      tokenNotValid()\r\n    }\r\n  }\r\n\r\n  const deleteToken = () => {\r\n    document.cookie =\r\n      \"jwt=deleted; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT\"\r\n    setToken(\"\")\r\n    history.push(\"/\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    checkAccess()\r\n  })\r\n\r\n  useEffect(() => {\r\n    const timeoutSearch = setTimeout(() => {\r\n      if (input) {\r\n        fetch(`/search?s=${input}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.Response) {\r\n              setResults(data.Search)\r\n            } else {\r\n              setResults([])\r\n            }\r\n          })\r\n          .catch(() => {\r\n            setResults([])\r\n          })\r\n      }\r\n    }, 300)\r\n    return () => {\r\n      clearTimeout(timeoutSearch)\r\n    }\r\n  }, [input])\r\n\r\n  return (\r\n    <header>\r\n      <a href=\"/\">\r\n        <img src=\"/img/dkLogo.jpg\" alt=\"\" className=\"logo\" />\r\n      </a>\r\n\r\n      <form\r\n        id=\"searchFilm\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault()\r\n        }}>\r\n        <i className=\"fa fa-search\"></i>\r\n        <input\r\n          className=\"input-field\"\r\n          spellCheck=\"false\"\r\n          autoComplete=\"off\"\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          id=\"inputFilm\"\r\n          name=\"title\"\r\n          placeholder=\"Search for a movie...\"\r\n        />\r\n        <div id=\"suggestions\">\r\n          {input.length === 0 || results === undefined ? (\r\n            <span></span>\r\n          ) : (\r\n            <ul>\r\n              {results.map((film, index) => {\r\n                return (\r\n                  <li key={index}>\r\n                    <a href={`/film/${film.Title}`}>\r\n                      <p>{film.Title}</p> <i className=\"fas fa-arrow-right\"></i>\r\n                    </a>\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div id=\"userInteraction\">\r\n        <a href=\"/login\" id=\"button-user\" ref={userButton}>\r\n          <i className=\"far fa-user\"></i> GET STARTED\r\n        </a>\r\n        <button id=\"button-logout\" ref={logoutButton} onClick={deleteToken}>\r\n          <i className=\"fas fa-sign-out-alt\"></i> LOGOUT\r\n        </button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","const Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer font-small special-color-dark pt-4\">\r\n      <div className=\"container\">\r\n        <ul className=\"list-unstyled list-inline text-center\">\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.facebook.com/profile.php?id=100010848486989\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fab fa-facebook-f\"> </i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://twitter.com/Mmorello08\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fab fa-twitter\"> </i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.instagram.com/matteo.mrl/?hl=it\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fab fa-instagram\"> </i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://www.linkedin.com/in/matteo-morellini-306a331a8/\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fab fa-linkedin-in\"> </i>\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item\">\r\n            <a\r\n              href=\"https://github.com/TheGodMorel\"\r\n              className=\"btn-floating fa-lg fa-2x\">\r\n              <i className=\"fab fa-github\"> </i>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"footer-copyright text-center py-3\">\r\n        Created with <i className=\"fas fa-heart\"></i> by Matteo Morellini.\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport Sidebar from \"./Sidebar.js\"\r\nimport Catalog from \"./Catalog.js\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport \"./index.css\"\r\n\r\nconst Home = ({ token, setToken }) => {\r\n  const [currentGenre, setCurrentGenre] = useState(\"Action\")\r\n  const genres = useRef([])\r\n  const [isRendered, setIsRendered] = useState()\r\n\r\n  useEffect(() => {\r\n    fetch(\"/genres\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        genres.current = data\r\n        setCurrentGenre(data[0].name)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar token={token} setToken={setToken} />\r\n      <main className=\"main-homepage\">\r\n        <Sidebar\r\n          genres={genres.current}\r\n          currentGenre={currentGenre} // viene eliminato dalla lista il genere corrente\r\n          setCurrentGenre={setCurrentGenre} // nel momento in cui un genere viene cliccato, diventa il corrente\r\n          setIsRendered={setIsRendered} // con un nuovo genere è necessario un nuovo caricamento\r\n        />\r\n        <Catalog\r\n          currentGenre={currentGenre} // per il titolo della section\r\n          setCurrentGenre={setCurrentGenre} // con le mq il menù dei generi passa nel Catalog\r\n          genres={genres.current}\r\n          setIsRendered={setIsRendered} // con un nuovo genere è necessario un nuovo caricamento\r\n          isRendered={isRendered} // effetto loading\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import fetch from \"node-fetch\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport \"./searchFilm.css\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\n\r\nconst SearchedFilm = ({ token, setToken }) => {\r\n  const [data, setData] = useState()\r\n  const [isRendered, setIsRendered] = useState(false)\r\n  const { title } = useParams()\r\n  const likeButton = useRef()\r\n  const dislikeButton = useRef()\r\n  const sectionFilm = useRef()\r\n\r\n  useEffect(() => {\r\n    const url = encodeURI(`/film-data/${title}`)\r\n\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      }\r\n    })\r\n      .then((res) => res.json())\r\n      .then(({ data, found }) => {\r\n        if (found) {\r\n          setData(data)\r\n        }\r\n        setIsRendered(true)\r\n      })\r\n  }, [])\r\n\r\n  const onLikeClick = (rating) => {\r\n    fetch(\"/vote\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token\r\n      },\r\n      body: JSON.stringify({ title, rating }),\r\n      method: \"PUT\"\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then(({ auth, vote }) => {\r\n        if (auth && vote) {\r\n          if (rating) {\r\n            likeButton.current.style.color = \"green\"\r\n            dislikeButton.current.style.color = \"black\"\r\n          } else {\r\n            dislikeButton.current.style.color = \"red\"\r\n            likeButton.current.style.color = \"black\"\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  if (isRendered) {\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar token={token} setToken={setToken} />\r\n        {data !== undefined ? (\r\n          <section id=\"specificFilm\" ref={sectionFilm}>\r\n            <img src={data.Poster} alt=\"\" />\r\n            <div id=\"filmInformation\">\r\n              <h1 id=\"title\">{data.Title}</h1>\r\n              <h5 id=\"plot\">{data.Plot}</h5>\r\n              <h5 id=\"genre\">{data.Genre}</h5>\r\n              <h5 id=\"runtime\">{data.Runtime}</h5>\r\n              <h5 id=\"released\">{data.Released}</h5>\r\n              <h5 id=\"director\">Director: {data.Director}</h5>\r\n              <h5 id=\"actors\">Actors: {data.Actors}</h5>\r\n              <h5 id=\"awards\">{data.Awards}</h5>\r\n              <h5 id=\"imdbRating\">\r\n                {data.imdbRating} <i className=\"far fa-star\"></i> |{\" \"}\r\n                {data.imdbVotes} <i className=\"fas fa-vote-yea\"></i> IMDb\r\n                ratings\r\n              </h5>\r\n              {token && (\r\n                <div id=\"vote\">\r\n                  <h5 id=\"textRating\">Rate the film</h5>\r\n                  <i\r\n                    className=\"fas fa-thumbs-up\"\r\n                    onClick={() => onLikeClick(1)}\r\n                    ref={likeButton}></i>\r\n                  <i\r\n                    className=\"fas fa-thumbs-down\"\r\n                    onClick={() => onLikeClick(0)}\r\n                    ref={dislikeButton}></i>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n        ) : (\r\n          <div id=\"filmNotFound\">\r\n            <h1>\r\n              FILM <span>NOT FOUND</span> TRY ANOTHER NAME\r\n            </h1>\r\n          </div>\r\n        )}\r\n        <Footer />\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar token={token} />\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>{\" \"}\r\n        <Footer />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchedFilm\r\n","import fetch from \"node-fetch\"\r\nimport React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport \"./login.css\"\r\n\r\nconst Login = ({ setToken }) => {\r\n  const [message, setMessage] = useState()\r\n  const [inputUsername, setInputUsername] = useState(\"\")\r\n  const [inputPassword, setInputPassword] = useState(\"\")\r\n  const history = useHistory()\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (inputUsername.length > 0 && inputPassword.length > 0) {\r\n      fetch(\"/login\", {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          username: inputUsername,\r\n          password: inputPassword\r\n        })\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.message) {\r\n            setMessage(data.message)\r\n          } else {\r\n            setToken(data.token)\r\n            history.push(\"/\")\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"loginPage\">\r\n      <form id=\"loginForm\" onSubmit={onFormSubmit}>\r\n        <a href=\"/\">\r\n          <img src=\"/img/dkLogo.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n\r\n        {message === undefined ? (\r\n          <h1 id=\"title\">Log in</h1>\r\n        ) : (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={inputUsername}\r\n            spellCheck=\"false\"\r\n            onChange={(e) => setInputUsername(e.target.value)}\r\n            autoComplete=\"username\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={inputPassword}\r\n            onChange={(e) => {\r\n              setInputPassword(e.target.value)\r\n            }}\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <a id=\"registrationLink\" href=\"/registration\">\r\n            Do not have an account? Create it now\r\n          </a>\r\n        </div>\r\n\r\n        <button className=\"btn\" onClick={onFormSubmit}>\r\n          SUBMIT\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import fetch from \"node-fetch\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport \"./registration.css\"\r\n\r\nconst Registration = ({ setToken }) => {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [mail, setMail] = useState(\"\")\r\n  const [password, setPassoword] = useState(\"\")\r\n  const [isFormValid, setIsFormValid] = useState(false)\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  const history = useHistory()\r\n\r\n  const usernameInput = useRef()\r\n  const passwordInput = useRef()\r\n  const mailInput = useRef()\r\n  const validPassword = useRef(false)\r\n  const passwordHelper = useRef()\r\n  const validMail = useRef(false)\r\n  const mailHelper = useRef()\r\n  const validUsername = useRef(false)\r\n  const usernameHelper = useRef()\r\n\r\n  const submitButton = useRef()\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault()\r\n    fetch(\"/registration\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({ username, mail, password })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.message) {\r\n          setMessage(data.message)\r\n        } else {\r\n          setToken(data.token)\r\n          history.push(\"\")\r\n        }\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      const regex = /^(?=.{3,14}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\r\n      if (username.match(regex)) {\r\n        validUsername.current = true\r\n        usernameHelper.current.style.color = \"green\"\r\n        usernameInput.current.classList.remove(\"invalid\")\r\n        usernameInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        validUsername.current = false\r\n        usernameHelper.current.style.color = \"red\"\r\n        usernameInput.current.classList.remove(\"valid\")\r\n        usernameInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (mail) {\r\n      const regex = /^[^ ]+@[^ ]+\\.[a-z]{2,3}$/\r\n      if (mail.match(regex)) {\r\n        mailHelper.current.innerHTML = \"<i class='fas fa-info'></i> Valid email\"\r\n        mailHelper.current.style.color = \"green\"\r\n        validMail.current = true\r\n        mailInput.current.classList.remove(\"invalid\")\r\n        mailInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        mailHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> Invalid email\"\r\n        mailHelper.current.style.color = \"red\"\r\n        validMail.current = false\r\n        mailInput.current.classList.remove(\"valid\")\r\n        mailInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  }, [mail])\r\n\r\n  useEffect(() => {\r\n    if (password) {\r\n      const regex = /^[A-Za-z]\\w{5,13}$/\r\n      if (password.match(regex)) {\r\n        passwordHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> Valid password\"\r\n        passwordHelper.current.style.color = \"green\"\r\n        validPassword.current = true\r\n        passwordInput.current.classList.remove(\"invalid\")\r\n        passwordInput.current.classList.add(\"valid\")\r\n        checkFormValid()\r\n      } else {\r\n        passwordHelper.current.innerHTML =\r\n          \"<i class='fas fa-info'></i> 7 to 15 characters and the first must be a letter\"\r\n        passwordHelper.current.style.color = \"red\"\r\n        validPassword.current = false\r\n        passwordInput.current.classList.remove(\"valid\")\r\n        passwordInput.current.classList.add(\"invalid\")\r\n      }\r\n    }\r\n  }, [password])\r\n\r\n  const checkFormValid = () => {\r\n    if (validUsername.current && validMail.current && validPassword.current) {\r\n      submitButton.current.disabled = false\r\n      submitButton.current.style.backgroundColor = \"white\"\r\n      submitButton.current.style.color = \"black\"\r\n      submitButton.current.classList = \"btn btn-abled\"\r\n      setIsFormValid(true)\r\n    } else {\r\n      submitButton.current.disabled = true\r\n      submitButton.current.style.backgroundColor = \"red\"\r\n      submitButton.current.classList = \"btn\"\r\n      setIsFormValid(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"registrationPage\">\r\n      <form onSubmit={onFormSubmit} className=\"form-registration\">\r\n        <a href=\"/\">\r\n          <img src=\"/img/dkLogo.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n        {message && (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {message}\r\n          </div>\r\n        )}\r\n        <h1 id=\"title\">Create account</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            ref={usernameInput}\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            autoComplete=\"username\"\r\n          />\r\n          <small id=\"usernameHelp\" className=\"form-text\" ref={usernameHelper}>\r\n            <i className=\"fas fa-info\"></i> Letters between 4 and 15\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"mail\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"mail\"\r\n            ref={mailInput}\r\n            name=\"mail\"\r\n            value={mail}\r\n            onChange={(e) => setMail(e.target.value)}\r\n            autoComplete=\"email\"\r\n          />\r\n          <small id=\"emailHelper\" className=\"form-text\" ref={mailHelper}>\r\n            <i className=\"fas fa-info\"></i> Insert a valid email\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            ref={passwordInput}\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassoword(e.target.value)}\r\n            autoComplete=\"new-password\"\r\n          />\r\n          <small id=\"passwordHelp\" ref={passwordHelper} className=\"form-text\">\r\n            <i className=\"fas fa-info\"></i> 7 to 15 characters and the first\r\n            must be a letter\r\n          </small>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn\"\r\n          ref={submitButton}\r\n          onClick={onFormSubmit}\r\n          disabled>\r\n          SUBMIT\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Registration\r\n","import React, { useEffect } from \"react\"\r\n\r\nconst Sidebar = ({ genres, currentGenre, setCurrentGenre }) => {\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n  return (\r\n    <aside className=\"user-genres\">\r\n      <div id=\"genresLegend\">\r\n        <h1>GENRES</h1>\r\n      </div>\r\n      <ul>\r\n        <li key=\"0\" onClick={onGenreClick}>\r\n          All genres\r\n        </li>\r\n        {genres\r\n          .filter((genre) => genre !== currentGenre)\r\n          .map((genre, index) => (\r\n            <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n              {genre}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\"\r\n\r\nconst UserCatalog = ({ films, currentGenre }) => {\r\n  return (\r\n    <article className=\"user-films\">\r\n      <div id=\"title\">\r\n        <h1>MOVIES YOU LIKED</h1>\r\n      </div>\r\n      <section id=\"favouriteFilms\">\r\n        {films\r\n          .filter((film) => film.Genre.includes(currentGenre))\r\n          .map((film, index) => {\r\n            return (\r\n              <div className=\"card\" key={index}>\r\n                <a href={`/film/${film.Title}`}>\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src={film.Poster}\r\n                    alt=\"Cardcap\"\r\n                  />\r\n                </a>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{film.Title}</h5>\r\n                  <p className=\"card-text\" id=\"rating\">\r\n                    {film.imdbRating} <i className=\"far fa-star\"></i>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default UserCatalog\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Navbar from \"../Navbar.js\"\r\nimport Footer from \"../Footer.js\"\r\nimport UserSidebar from \"./UserSidebar.js\"\r\nimport \"./userCatalog.css\"\r\nimport UserCatalog from \"./UserCatalog.js\"\r\n\r\nconst UserFilms = ({ token, setToken }) => {\r\n  const [currentGenre, setCurrentGenre] = useState(\"\")\r\n  const genres = useRef()\r\n  const [isRendered, setIsRendered] = useState(false)\r\n  const films = useRef()\r\n  const { username } = useParams()\r\n  const clicked = useRef(false)\r\n  const allGenres = useRef()\r\n\r\n  const onGenreClick = (e) => {\r\n    setCurrentGenre(e.target.id)\r\n  }\r\n\r\n  const onButtonFilterClick = () => {\r\n    if (clicked.current) {\r\n      clicked.current = false\r\n      allGenres.current.style.display = \"none\"\r\n    } else {\r\n      clicked.current = true\r\n      allGenres.current.style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (token !== \"\") {\r\n      fetch(`/user-data/${username}`, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          Authorization: \"Bearer \" + token\r\n        }\r\n      })\r\n        .then((response) => response.json())\r\n        .then(({ userGenres, userFilms, auth }) => {\r\n          if (auth) {\r\n            genres.current = userGenres\r\n            films.current = userFilms\r\n            setIsRendered(true)\r\n          }\r\n        })\r\n    }\r\n  }, [token])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar token={token} setToken={setToken} />\r\n      {isRendered ? (\r\n        films.current.length > 0 ? (\r\n          <React.Fragment>\r\n            <div id=\"filterGenres\" onClick={onButtonFilterClick}>\r\n              <i className=\"fas fa-sort-down\"></i> Filter by genre{\" \"}\r\n              <i className=\"fas fa-sort-down\"></i>\r\n            </div>\r\n            <div id=\"allGenres\" ref={allGenres}>\r\n              <ul>\r\n                <li key=\"0\" onClick={onGenreClick}>\r\n                  All genres\r\n                </li>\r\n                {genres.current\r\n                  .filter((genre) => genre !== currentGenre)\r\n                  .map((genre, index) => (\r\n                    <li key={index + 1} id={genre} onClick={onGenreClick}>\r\n                      {genre}\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n            <main>\r\n              <React.Fragment>\r\n                <UserSidebar\r\n                  genres={genres.current}\r\n                  currentGenre={currentGenre}\r\n                  setCurrentGenre={setCurrentGenre}\r\n                />\r\n                <UserCatalog\r\n                  films={films.current}\r\n                  currentGenre={currentGenre}\r\n                />\r\n              </React.Fragment>\r\n            </main>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div id=\"noFilm\">\r\n            <h1>\r\n              you haven't <span>voted</span> any movie yet.\r\n            </h1>\r\n          </div>\r\n        )\r\n      ) : (\r\n        <div className=\"lds-ellipsis\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      )}\r\n      <Footer />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserFilms\r\n","import React from \"react\"\r\nimport \"./page404.css\"\r\nconst Page404 = () => {\r\n  return (\r\n    <div className=\"body-error404\">\r\n      <div className=\"div-error404\">\r\n        <a href=\"/\">\r\n          <img src=\"/img/logo2.jpg\" id=\"imgLogo\" alt=\"\" />\r\n        </a>\r\n        <h1>\r\n          <i class=\"fas fa-exclamation-triangle\"></i> ERROR 404{\" \"}\r\n          <i class=\"fas fa-exclamation-triangle\"></i> <br /> PAGE NOT FOUND{\" \"}\r\n        </h1>\r\n        <a href=\"/\" id=\"homepageLink\">\r\n          <i class=\"fas fa-home\"></i> BACK TO HOME PAGE{\" \"}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Page404\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport Home from \"./components/Homepage/Home.js\"\r\nimport SearchedFilm from \"./components/Film/SearchedFilm.js\"\r\nimport Login from \"./components/Login/Login.js\"\r\nimport Registration from \"./components/Registration/Registration.js\"\r\nimport UserMenu from \"./components/User/UserMenu.js\"\r\nimport Page404 from \"./components/404Page/Page404.js\"\r\nimport \"./components/Homepage/index.css\"\r\nconst App = () => {\r\n  const getCookie = (cname) => {\r\n    const name = cname + \"=\"\r\n    const decodedCookie = decodeURIComponent(document.cookie)\r\n    const ca = decodedCookie.split(\";\")\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i]\r\n      while (c.charAt(0) === \" \") {\r\n        c = c.substring(1)\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length)\r\n      }\r\n    }\r\n    return \"\"\r\n  }\r\n\r\n  const [token, setToken] = useState(\"\")\r\n  useEffect(() => setToken(getCookie(\"jwt\")), [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/film/:title\">\r\n            <SearchedFilm token={token} setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/user/:username\">\r\n            <UserMenu token={token} setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Login setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/registration\">\r\n            <Registration setToken={setToken} />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Home token={token} setToken={setToken} />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Page404 />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}